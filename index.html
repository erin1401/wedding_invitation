<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<title>Luxury 3D Wedding Invitation</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
  --gold:#c9a24d;
  --rose:#f3e7e3;
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
}

body{
  font-family:'Playfair Display',serif;
  background:#fff;
  overflow-x:hidden;
  perspective:1200px;
}

/* ===================== */
/* 3D HERO SCENE */
/* ===================== */

.scene{
  height:100vh;
  position:relative;
  transform-style:preserve-3d;
  overflow:hidden;
}

/* background depth layers */
.layer{
  position:absolute;
  inset:0;
  background-size:cover;
  background-position:center;
  transform:translateZ(-200px) scale(1.4);
  filter:brightness(.8);
}

/* door animation */
.door{
  position:absolute;
  inset:0;
  display:flex;
}

.door div{
  flex:1;
  background:url("https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1920") center/cover;
  transform-origin:left;
}

.left{
  animation:openLeft 4s ease forwards;
}

.right{
  animation:openRight 4s ease forwards;
}

@keyframes openLeft{
  to{transform:rotateY(-90deg)}
}
@keyframes openRight{
  to{transform:rotateY(90deg)}
}

/* title */
.title{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  color:white;
  text-align:center;
}

.title h1{
  font-family:'Great Vibes';
  font-size:64px;
  color:var(--gold);
  text-shadow:0 0 25px rgba(201,162,77,.6);
}

/* ===================== */
/* sections */
/* ===================== */

.section{
  padding:80px 20px;
  text-align:center;
  opacity:0;
  transform:translateY(40px);
  transition:1.2s;
}

.section.show{
  opacity:1;
  transform:none;
}

.card{
  background:#fff;
  padding:30px;
  border-radius:20px;
  max-width:500px;
  margin:auto;
  box-shadow:0 12px 35px rgba(0,0,0,.08);
}

button{
  background:var(--gold);
  color:white;
  border:none;
  padding:10px 18px;
  border-radius:10px;
  margin:6px;
}

/* ===================== */
/* gallery 3D */
/* ===================== */

.gallery{
  display:flex;
  gap:10px;
  overflow-x:auto;
}

.gallery img{
  height:190px;
  border-radius:14px;
  transition:.4s;
}

.gallery img:hover{
  transform:scale(1.08);
}

/* petals */
.petal{
  position:fixed;
  top:-10px;
  width:12px;
  height:12px;
  background:#fff;
  border-radius:50%;
  opacity:.7;
  animation:fall linear infinite;
}

@keyframes fall{
  to{transform:translateY(110vh) rotate(360deg)}
}

#musicBtn{
  position:fixed;
  right:20px;
  top:20px;
}
</style>
</head>

<body>

<!-- 3D CINEMATIC SCENE -->
<div class="scene">
  <div class="layer"></div>

  <div class="door">
    <div class="left"></div>
    <div class="right"></div>
  </div>

  <div class="title">
    <h1>Wedding Day</h1>
    <h2 id="guest"></h2>
  </div>
</div>


<button id="musicBtn" onclick="toggleMusic()">ðŸ”Š</button>

<audio id="music" loop autoplay>
<source src="https://cdn.pixabay.com/audio/2022/10/25/audio_9c9a9b5c06.mp3">
</audio>


<!-- COUNTDOWN -->
<section class="section card">
<h3>Menuju Hari Bahagia</h3>
<h2 id="countdown"></h2>
</section>

<!-- GALLERY -->
<section class="section">
<div class="gallery">
<img src="https://images.unsplash.com/photo-1522673607200-164d1b6ce486">
<img src="https://images.unsplash.com/photo-1507504031003-b417219a0fde">
<img src="https://images.unsplash.com/photo-1511285560929-80b456fea0bc">
</div>
</section>

<!-- RSVP -->
<section class="section card">
<button onclick="rsvp('Hadir')">Hadir</button>
<button onclick="rsvp('Tidak Hadir')">Tidak Hadir</button>
<p id="msg"></p>
</section>

<!-- WISH -->
<section class="section card">
<input id="wishName" placeholder="Nama">
<textarea id="wishText" placeholder="Ucapan..."></textarea>
<button onclick="sendWish()">Kirim</button>
</section>

<script>
/* ===== typing guest ===== */
const guestName=new URLSearchParams(location.search).get("to")||"Tamu Undangan";
let i=0;
function type(){
  if(i<guestName.length){
    guest.innerHTML+=guestName[i++];
    setTimeout(type,60);
  }
}
type();

/* ===== reveal ===== */
setTimeout(()=>{
  document.querySelectorAll(".section").forEach((s,i)=>{
    setTimeout(()=>s.classList.add("show"),i*500);
  });
},4500);

/* ===== petals ===== */
for(let i=0;i<25;i++){
  const p=document.createElement("div");
  p.className="petal";
  p.style.left=Math.random()*100+"vw";
  p.style.animationDuration=(5+Math.random()*5)+"s";
  document.body.appendChild(p);
}

/* ===== music ===== */
const music=document.getElementById("music");
function toggleMusic(){
  music.paused?music.play():music.pause();
}

/* ===== countdown ===== */
const target=new Date("2026-04-04").getTime();
setInterval(()=>{
  const d=Math.floor((target-Date.now())/86400000);
  countdown.innerText=d+" hari lagi";
},1000);

/* ===== Google Sheet ===== */
const scriptURL="https://docs.google.com/spreadsheets/d/1fZl4YNjqMnePEVRAIrdlHMXLwOLKjCL7cUixdsdci9c/edit?gid=0#gid=0";

function rsvp(status){
  fetch(scriptURL,{method:"POST",body:JSON.stringify({type:"rsvp",nama:guestName,status})});
  msg.innerText="Terima kasih ðŸ’›";
}

function sendWish(){
  fetch(scriptURL,{method:"POST",body:JSON.stringify({type:"wish",nama:wishName.value,pesan:wishText.value})});
  alert("Terkirim");
}
</script>

</body>
</html>
