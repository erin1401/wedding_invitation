<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<title>Wedding Invitation</title>

<style>
:root{
  --gold:#c9a24d;
  --rose:#e9d8d0;
  --white:#ffffff;
}

*{
  margin:0;
  padding:0;
  font-family:'Segoe UI',sans-serif;
  box-sizing:border-box;
}

body{
  background:linear-gradient(135deg,var(--rose),#fff);
  color:#444;
  overflow-x:hidden;
}

/* ===== OPENING ===== */
#opening{
  position:fixed;
  inset:0;
  background:url("https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1920") center/cover;
  display:flex;
  justify-content:center;
  align-items:center;
  color:white;
  z-index:1000;
}

#opening button{
  background:var(--gold);
  border:none;
  padding:14px 30px;
  border-radius:30px;
  color:white;
}

/* ===== SECTION ===== */
.section{
  padding:70px 20px;
  text-align:center;
}

.card{
  background:var(--white);
  padding:25px;
  border-radius:20px;
  max-width:500px;
  margin:auto;
  box-shadow:0 8px 30px rgba(0,0,0,0.08);
}

button{
  background:var(--gold);
  border:none;
  color:white;
  padding:10px 18px;
  border-radius:10px;
  margin:6px;
}

/* ===== GALLERY ===== */
.gallery{
  display:flex;
  gap:10px;
  overflow-x:auto;
}

.gallery img{
  height:180px;
  border-radius:12px;
}

/* ===== ADMIN ===== */
#admin{
  display:none;
  padding:20px;
  background:white;
  margin:30px;
  border-radius:12px;
}

textarea,input{
  width:100%;
  padding:8px;
  margin:5px 0;
}

#musicBtn{
  position:fixed;
  right:20px;
  top:20px;
}
</style>
</head>

<body>

<!-- OPENING -->
<div id="opening">
  <button onclick="start()">Buka Undangan</button>
</div>

<button id="musicBtn" onclick="toggleMusic()">ðŸ”Š</button>

<audio id="music" loop autoplay>
  <source src="https://cdn.pixabay.com/audio/2022/10/25/audio_9c9a9b5c06.mp3">
</audio>

<!-- HERO -->
<section class="section">
  <h1 style="color:#c9a24d">Wedding Day</h1>
  <h2 id="guest"></h2>
</section>

<!-- COUNTDOWN -->
<section class="section card">
  <h3>Menuju Hari Bahagia</h3>
  <h2 id="countdown"></h2>
</section>

<!-- EVENT -->
<section class="section card">
  <p>12 Januari 2026</p>
  <p>Gedung Serbaguna Bahagia</p>
</section>

<!-- GALLERY -->
<section class="section">
  <div class="gallery">
    <img src="https://images.unsplash.com/photo-1522673607200-164d1b6ce486">
    <img src="https://images.unsplash.com/photo-1507504031003-b417219a0fde">
    <img src="https://images.unsplash.com/photo-1511285560929-80b456fea0bc">
  </div>
</section>

<!-- MAP -->
<section class="section card">
  <h3>Lokasi</h3>
  <iframe
  src="https://maps.google.com/maps?q=jakarta&t=&z=13&ie=UTF8&iwloc=&output=embed"
  width="100%" height="250" style="border-radius:12px;border:0"></iframe>
</section>

<!-- RSVP -->
<section class="section card">
  <h3>Konfirmasi Kehadiran</h3>
  <button onclick="rsvp('Hadir')">Hadir</button>
  <button onclick="rsvp('Tidak Hadir')">Tidak Hadir</button>
  <p id="msg"></p>
</section>

<!-- BUKU TAMU -->
<section class="section card">
  <h3>Ucapan & Doa</h3>
  <input id="wishName" placeholder="Nama">
  <textarea id="wishText" placeholder="Tulis ucapan..."></textarea>
  <button onclick="sendWish()">Kirim</button>
</section>

<!-- ADMIN LOGIN -->
<section class="section">
  <button onclick="login()">Admin</button>
</section>

<div id="admin">
  <h3>Generator Link Tamu</h3>
  <textarea id="names" placeholder="Andi&#10;Ibu Sari"></textarea>
  <button onclick="generate()">Generate Link</button>
  <div id="links"></div>
</div>

<script>
/* ===== SETUP ===== */
const params=new URLSearchParams(location.search);
const guest=params.get("to")||"Tamu Undangan";
document.getElementById("guest").innerText=guest;

/* GANTI DENGAN URL GOOGLE APPS SCRIPT */
const scriptURL="PASTE_URL_WEB_APP_DISINI";

/* ===== OPENING ===== */
function start(){
  document.getElementById("opening").style.display="none";
  music.play();
}

/* ===== MUSIC ===== */
const music=document.getElementById("music");
function toggleMusic(){
  music.paused?music.play():music.pause();
}

/* ===== COUNTDOWN ===== */
const target=new Date("2026-01-12").getTime();
setInterval(()=>{
  const d=Math.floor((target-Date.now())/86400000);
  document.getElementById("countdown").innerText=d+" hari lagi";
},1000);

/* ===== RSVP ===== */
function rsvp(status){
  fetch(scriptURL,{
    method:"POST",
    body:JSON.stringify({
      type:"rsvp",
      nama:guest,
      status:status
    })
  });
  msg.innerText="Terima kasih ðŸ’›";
}

/* ===== WISH ===== */
function sendWish(){
  fetch(scriptURL,{
    method:"POST",
    body:JSON.stringify({
      type:"wish",
      nama:wishName.value,
      pesan:wishText.value
    })
  });
  alert("Ucapan terkirim");
}

/* ===== ADMIN LOGIN ===== */
function login(){
  const pass=prompt("Password admin:");
  if(pass==="1234"){   /* ganti password */
    admin.style.display="block";
  }
}

/* ===== GENERATOR ===== */
function generate(){
  const base=location.origin+location.pathname+"?to=";
  const names=document.getElementById("names").value.split("\n");
  let html="";
  names.forEach(n=>{
    if(!n.trim()) return;
    const link=base+encodeURIComponent(n);
    html+=`<p>${n}<br><a href="${link}" target="_blank">${link}</a></p>`;
  });
  links.innerHTML=html;
}
</script>

</body>
</html>
